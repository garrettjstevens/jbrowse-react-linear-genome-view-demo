{"version":3,"sources":["../node_modules/@jbrowse/core/ui/AboutDialog.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","_ref","config","handleClose","classes","useStyles","_useState","_react","useState","_useState2","_slicedToArray2","info","setInfo","_useState3","_useState4","error","setError","session","_util","getSession","rpcManager","conf","_configuration","readConfObject","useEffect","aborter","AbortController","signal","cancelled","_asyncToGenerator2","_regenerator","mark","_callee","adapterConfig","result","wrap","_context","prev","next","call","trackId","sent","t0","console","stop","abort","trackName","assemblies","forEach","assembly","sequence","configuration","concat","details","header","replace","createElement","_core","Dialog","open","onClose","DialogTitle","IconButton","className","closeButton","onClick","_Close","DialogContent","_BaseFeatureDetail","BaseCard","title","Attributes","attributes","omit","Typography","color","obj","nodeInterop","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","desc","set","_interopRequireWildcard","WeakMap","cacheBabelInterop","cacheNodeInterop","makeStyles","theme","position","right","spacing","top","palette","grey"],"mappings":"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","file":"static/js/4.cff647a8.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = AboutDialog;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _core = require(\"@material-ui/core\");\n\nvar _Close = _interopRequireDefault(require(\"@material-ui/icons/Close\"));\n\nvar _configuration = require(\"../configuration\");\n\nvar _util = require(\"../util\");\n\nvar _BaseFeatureDetail = require(\"../BaseFeatureWidget/BaseFeatureDetail\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar useStyles = (0, _core.makeStyles)(function (theme) {\n  return {\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  };\n});\n\nfunction AboutDialog(_ref) {\n  var config = _ref.config,\n      handleClose = _ref.handleClose;\n  var classes = useStyles();\n\n  var _useState = (0, _react.useState)(),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      info = _useState2[0],\n      setInfo = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var session = (0, _util.getSession)(config);\n  var rpcManager = session.rpcManager;\n  var conf = (0, _configuration.readConfObject)(config);\n  (0, _react.useEffect)(function () {\n    var aborter = new AbortController();\n    var signal = aborter.signal;\n    var cancelled = false;\n    (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      var adapterConfig, result;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              adapterConfig = (0, _configuration.readConfObject)(config, 'adapter');\n              _context.next = 4;\n              return rpcManager.call(config.trackId, 'CoreGetInfo', {\n                adapterConfig: adapterConfig,\n                signal: signal\n              });\n\n            case 4:\n              result = _context.sent;\n\n              if (!cancelled) {\n                setInfo(result);\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (!cancelled) {\n                console.error(_context.t0);\n                setError(_context.t0);\n              }\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }))();\n    return function () {\n      aborter.abort();\n      cancelled = true;\n    };\n  }, [config, rpcManager]);\n  var trackName = (0, _configuration.readConfObject)(config, 'name');\n\n  if ((0, _configuration.readConfObject)(config, 'type') === 'ReferenceSequenceTrack') {\n    trackName = 'Reference Sequence';\n    session.assemblies.forEach(function (assembly) {\n      if (assembly.sequence === config.configuration) {\n        trackName = \"Reference Sequence (\".concat((0, _configuration.readConfObject)(assembly, 'name'), \")\");\n      }\n    });\n  }\n\n  var details = typeof info === 'string' ? {\n    header: \"<pre>\".concat(info.replace(/</g, '&lt;').replace(/>/g, '&gt;'), \"</pre>\")\n  } : info || {};\n  return /*#__PURE__*/_react.default.createElement(_core.Dialog, {\n    open: true,\n    onClose: handleClose\n  }, /*#__PURE__*/_react.default.createElement(_core.DialogTitle, null, trackName, /*#__PURE__*/_react.default.createElement(_core.IconButton, {\n    className: classes.closeButton,\n    onClick: function onClick() {\n      return handleClose();\n    }\n  }, /*#__PURE__*/_react.default.createElement(_Close.default, null))), /*#__PURE__*/_react.default.createElement(_core.DialogContent, null, /*#__PURE__*/_react.default.createElement(_BaseFeatureDetail.BaseCard, {\n    title: \"Configuration\"\n  }, /*#__PURE__*/_react.default.createElement(_BaseFeatureDetail.Attributes, {\n    attributes: conf,\n    omit: ['displays', 'baseUri', 'refNames']\n  })), info !== null ? /*#__PURE__*/_react.default.createElement(_BaseFeatureDetail.BaseCard, {\n    title: \"File info\"\n  }, error ? /*#__PURE__*/_react.default.createElement(_core.Typography, {\n    color: \"error\"\n  }, \"\".concat(error)) : !info ? 'Loading file data...' : /*#__PURE__*/_react.default.createElement(_BaseFeatureDetail.Attributes, {\n    attributes: details\n  })) : null));\n}"],"sourceRoot":""}